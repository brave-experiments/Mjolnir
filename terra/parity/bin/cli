#!/usr/bin/env bash

function prepare_environment() {
    cp .env.dist .env
    docker-compose up -d --no-deps node1 node2 cli
}

function create_accounts() {
    docker-compose down --remove-orphans
#     TODO: Consider Foreach (how many times you will run it that many times it will create new account)
    docker-compose run node0
    docker-compose run node0
    docker-compose down --remove-orphans
}

function boot_node() {
    docker-compose run cli /var/config/bootstrapper
}

function run() {
#    create_accounts
    prepare_environment
    boot_node
}

run